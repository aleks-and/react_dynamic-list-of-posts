(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(17)},15:function(e,t,a){},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(3),c=a.n(o),s=a(4),i=a(1),l=a(5),m=a(6),u=a(8),d=a(7),p=a(9),f=(a(15),function(e){var t=e.name,a=e.email,n=e.address;return r.a.createElement("div",{className:"user"},r.a.createElement("p",null,"User name: ",t),r.a.createElement("p",null,"User email: ",a),n&&r.a.createElement("p",null,"User city: ",n.city))}),E=(a(16),function(e){var t=e.comment,a=t.name,n=t.email,o=t.body;return r.a.createElement("div",{className:"comment-list__item"},r.a.createElement("p",null,o),r.a.createElement(f,{name:a,email:n}))}),h=function(e){var t=e.comments;return r.a.createElement("div",{className:"comment-list"},r.a.createElement("h3",null,"Comments:"),t.map(function(e){return r.a.createElement(E,{comment:e,key:e.id})}))},b=function(e){var t=e.post,a=t.title,n=t.body,o=t.user,c=t.comments,s=o.name,i=o.email,l=o.address;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,a),r.a.createElement("p",null,n),r.a.createElement(f,{name:s,email:i,address:l}),r.a.createElement(h,{comments:c}),r.a.createElement("hr",null))},y=function(e){var t=e.posts;return r.a.createElement("div",{className:"post-list"},t.map(function(e){return r.a.createElement(b,{post:e,key:e.id})}))},j=function(e){var t=e.isLoading,a=e.isLoaded,n=e.hasError,o=e.getData,c=t?"Okay, okay, already loading...":"GET POSTS RIGHT NOW!";return r.a.createElement("div",{className:"container mb-5"},r.a.createElement("div",{className:"row"},r.a.createElement("header",{className:"header col text-center"},r.a.createElement("h1",{className:"mb-5"},"Dynamic list of posts"),!a&&r.a.createElement("button",{onClick:o,disabled:t},c),n&&r.a.createElement("h2",{className:"mt-3"},"Some kind of mistake, nevermind...",r.a.createElement("br",null),"just kick the admin."))))};function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var v="https://jsonplaceholder.typicode.com/users",g="https://jsonplaceholder.typicode.com/posts",w="https://jsonplaceholder.typicode.com/comments",P=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={preparedPosts:[],isLoading:!1,isLoaded:!1,hasError:!1},a.loadData=function(){return Promise.all([fetch(v),fetch(g),fetch(w)]).then(function(e){var t=Object(i.a)(e,3),a=t[0],n=t[1],r=t[2];return Promise.all([a.json(),n.json(),r.json()])})},a.getData=function(){a.setState({isLoading:!0,isLoaded:!1,hasError:!1}),a.loadData().then(function(e){var t=Object(i.a)(e,3),n=t[0],r=t[1],o=t[2];a.setState({preparedPosts:a.joinAllData(r,o,n),isLoading:!1,isLoaded:!0})}).catch(function(){a.setState({hasError:!0,isLoading:!1})})},a.joinAllData=function(e,t,a){return e.map(function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(a,!0).forEach(function(t){Object(s.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e,{user:a.find(function(t){return t.id===e.userId}),comments:t.filter(function(t){return t.postId===e.id})})})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.preparedPosts,a=e.isLoading,n=e.isLoaded,o=e.hasError;return r.a.createElement(r.a.Fragment,null,r.a.createElement(j,{isLoading:a,isLoaded:n,hasError:o,getData:this.getData}),r.a.createElement(y,{posts:t}))}}]),t}(r.a.Component);c.a.render(r.a.createElement(P,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.6f0c7d03.chunk.js.map